@model Intelectah.ViewModel.ClientesViewModel

<div class="form-group col-md-6">
    <label asp-for="Nome" class="form-label"></label>
    <input asp-for="Nome" class="form-control" />
    <span asp-validation-for="Nome" class="text-danger"></span>
</div>

<div class="form-group col-md-6">
    <label asp-for="CPF" class="form-label"></label>
    <input asp-for="CPF" class="form-control" id="cpf" />
    <span asp-validation-for="CPF" class="text-danger"></span>
</div>

<div class="form-group col-md-6">
    <label asp-for="Email" class="form-label"></label>
    <input asp-for="Email" class="form-control" />
    <span asp-validation-for="Email" class="text-danger"></span>
</div>

<div class="form-group col-md-6">
    <label asp-for="Telefone" class="form-label"></label>
    <input asp-for="Telefone" class="form-control" />
    <span asp-validation-for="Telefone" class="text-danger"></span>
</div>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.8/inputmask.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            Inputmask("999.999.999-99").mask(document.querySelector('cpf'));

            const cpfInput = document.getElementById('cpf');
            const cpfError = document.querySelector('cpf');

            cpfInput.addEventListener('blur', function () {
                const cpf = cpfInput.value;
                if (!validarCPF(cpf)) {
                    cpfError.textContent = 'CPF inválido!';
                    cpfInput.classList.add('is-invalid');
                } else {
                    cpfError.textContent = '';
                    cpfInput.classList.remove('is-invalid');
                }
            });
        });
    </script>
}